import{_ as s,d as a}from"./app.c62b2955.js";var e="/images/redis/0.png",n="/images/redis/1.png",i="/images/redis/2.png",r="/images/redis/3.png",l="/images/redis/4.png",p="/images/redis/5.png",d="/images/redis/7.png",c="/images/redis/8.png",t="/images/redis/9.png",o="/images/redis/10.png",u="/images/redis/11.png";const m={},b=a(`<h2 id="centos-redis-\u6E90\u7801\u5B89\u88C5\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#centos-redis-\u6E90\u7801\u5B89\u88C5\u914D\u7F6E" aria-hidden="true">#</a> centos redis \u6E90\u7801\u5B89\u88C5\u914D\u7F6E</h2><p>\u53D1\u8868\u4E8E 2014-12-18</p><p>centos redis \u6E90\u7801\u5B89\u88C5\u914D\u7F6E</p><p>\u8F7Dredis\u6E90\u7801\uFF0C\u5E76\u8FDB\u884C\u76F8\u5173\u64CD\u4F5C:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> http://download.redis.io/releases/redis-3.2.3.tar.gz

<span class="token function">tar</span> -zxvf redis-3.2.3.tar.gz
<span class="token function">mv</span> redis-3.2.3 redis
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><a href="/images/redis/0.png"><img src="`+e+`" alt="image"></a></p><p>\u89E3\u538B\u5B8C\u6BD5\u540E\uFF0C\u73B0\u5728\u5F00\u59CB\u5B89\u88C5\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> redis

<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="/images/redis/1.png"><img src="`+n+`" alt="image"></a></p><p>\u5982\u679C\u51FA\u73B0\u4E0A\u56FE \u5219\u662F\u6CA1\u6709\u5B89\u88C5\u7F16\u8BD1\u73AF\u5883</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> gcc
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><a href="/images/redis/2.png"><img src="`+i+`" alt="image"></a></p><p>\u51FA\u73B0\u4E0A\u56FE \u5C31\u5B89\u88C5\u597D\u7F16\u8BD1\u73AF\u5883\u4E86</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u7EE7\u7EED\u6267\u884C \u53D1\u73B0\u53C8\u51FA\u9519\u8BEF\u4E86</p><p><a href="/images/redis/3.png"><img src="`+r+`" alt="image"></a></p><p>\u89E3\u51B3\u529E\u6CD5\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">make</span> <span class="token assign-left variable">MALLOC</span><span class="token operator">=</span>libc
<span class="token function">make</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="/images/redis/4.png"><img src="`+l+`" alt="image"></a></p><p>\u5230\u6B64\u5B89\u88C5\u6210\u529F\uFF01\uFF01\uFF01</p><p>\u53EF\u67E5\u770B\uFF0C/usr/local/bin\u4E0B\u5DF2\u6709\u8FD9\u4E9B\u6587\u4EF6\u3002 \u6CE8\u610F\uFF1A\u82E5\u6B64\u65F6\u6267\u884Credis-server \u2013v (\u67E5\u770B\u7248\u672C\u547D\u4EE4)\uFF0C\u82E5\u63D0\u793Aredis-server command not found\uFF0C\u5219\u9700\u8981\u5C06/usr/local/bin\u76EE\u5F55\u52A0\u5230\u73AF\u5883\u53D8\u91CF</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vi</span> /etc/profil
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u628APATH=/usr/local/bin:$PATH export PATH \u6DFB\u52A0\u5230\u91CC\u9762 \u8981\u662F\u521A\u624D\u7684\u4FEE\u6539\u9A6C\u4E0A\u751F\u6548\uFF0C\u9700\u8981\u6267\u884C\u4EE5\u4E0B\u4EE3\u7801</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">source</span> /etc/profile
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u65F6\u518D\u67E5\u770B\u7CFB\u7EDF\u73AF\u5883\u53D8\u91CF\uFF0C\u5C31\u80FD\u770B\u89C1\u521A\u624D\u52A0\u7684\u4E1C\u897F\u5DF2\u7ECF\u751F\u6548\u4E86</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost utils<span class="token punctuation">]</span><span class="token comment"># echo $PATH</span>
/usr/local/bin:/usr/java/jdk1.8.0_131/bin:/usr/java/jdk1.8.0_131/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin:/root/bin:/usr/local/bin
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E" aria-hidden="true">#</a> \u914D\u7F6E</h2><p>\u901A\u8FC7\u4E0A\u56FE\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5F88\u5BB9\u6613\u7684\u770B\u51FA\uFF0Credis\u5B89\u88C5\u5230/usr/local,/usr/local/bin,/usr/local/share,/usr/local/include,/usr/local/lib,/usr/local/share/man\u76EE\u5F55\u4E0B\u3002</p><p>\u7136\u540E\u518D\u5207\u6362\u5230utils\u76EE\u5F55\u4E0B\uFF0C\u6267\u884Credis\u521D\u59CB\u5316\u811A\u672Cinstall_server.sh\uFF0C\u5982\u4E0B\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> utils/

./install_server.sh
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="/images/redis/5.png"><img src="`+p+'" alt="image"></a> \u901A\u8FC7\u4E0A\u56FE\uFF0C\u6211\u4EEC\u53EF\u4EE5\u770B\u51FAredis\u521D\u59CB\u5316\u540Eredis\u914D\u7F6E\u6587\u4EF6\u4E3A/etc/redis/6379.conf\uFF0C\u65E5\u5FD7\u6587\u4EF6\u4E3A/var/log/redis_6379.log\uFF0C\u6570\u636E\u6587\u4EF6dump.rdb\u5B58\u653E\u5230/var/lib/redis/6379\u76EE\u5F55\u4E0B\uFF0C\u542F\u52A8\u811A\u672C\u4E3A/etc/init.d/redis_6379\u3002</p><h2 id="\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6-\u914D\u7F6E\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6-\u914D\u7F6E\u53C2\u6570" aria-hidden="true">#</a> \u4FEE\u6539\u914D\u7F6E\u6587\u4EF6\uFF0C\u914D\u7F6E\u53C2\u6570</h2><p>\u6253\u5F00\u3001etc/redis \u7F16\u8F916379.conf\uFF08\u91CD\u547D\u540D\u4E3Aredis.conf\uFF09\u6211\u6CA1\u6709\u5176\u4ED6\u9700\u6C42 \u6240\u4EE5\u76EE\u5F55\u4E0D\u4FEE\u6539</p><h2 id="\u6301\u4E45\u5316\u6253\u5F00" tabindex="-1"><a class="header-anchor" href="#\u6301\u4E45\u5316\u6253\u5F00" aria-hidden="true">#</a> \u6301\u4E45\u5316\u6253\u5F00</h2><p>\u9ED8\u8BA4rdb\uFF0C\u53EF\u9009\u62E9\u662F\u5426\u5F00\u542Faof\uFF0C\u82E5\u5F00\u542F\uFF0C\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6appendonly</p><h2 id="\u5F00\u542F\u540E\u53F0\u8FD0\u884C" tabindex="-1"><a class="header-anchor" href="#\u5F00\u542F\u540E\u53F0\u8FD0\u884C" aria-hidden="true">#</a> \u5F00\u542F\u540E\u53F0\u8FD0\u884C</h2><p>\u4FEE\u6539daemonize\u5C5E\u6027\u6539\u6210 yes <a href="/images/redis/7.png"><img src="'+d+`" alt="image"></a></p><p>\u914D\u7F6E\u6210\u529F\uFF01\uFF01\uFF01</p><h2 id="redis\u6DFB\u52A0\u6210\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#redis\u6DFB\u52A0\u6210\u670D\u52A1" aria-hidden="true">#</a> redis\u6DFB\u52A0\u6210\u670D\u52A1</h2><p>\u521B\u5EFAredis\u542F\u52A8\u811A\u672C \u62F7\u8D1D\u89E3\u538B\u5305\u4E0Butils\u4E0Bredis\u542F\u52A8\u811A\u672C\u81F3/etc/init.d/</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cp</span>  /usr/local/gzf/redis/redis/utils/redis_init_script /etc/init.d/
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u4FEE\u6539\u811A\u672C\u914D\u7F6E\uFF08\u5982\u679C\u4E4B\u524D\u6539\u8FC7etc/redis\u4E0B\u914D\u7F6E\u6587\u4EF6\u540D\u5B57\u7684\u8BDD\uFF09</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vi</span> /etc/rc.d/init.d/redis_init_script
<span class="token assign-left variable">CONF</span><span class="token operator">=</span><span class="token string">&quot;/etc/redis/redis.conf&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u4FDD\u5B58 \u9000\u51FA \u81F3\u6B64\uFF0C\u5728/etc/init.d/\u76EE\u5F55\u4E0B\uFF0C\u5DF2\u7ECF\u53EF\u4EE5\u901A\u8FC7service redis start/stop \u547D\u4EE4\u542F\u52A8\u548C\u5173\u95EDredis</p><p>\u82E5\u5728\u5176\u4ED6\u76EE\u5F55\u4E0B\uFF0C\u4E0D\u80FD\u591F\u4F7F\u7528\u8FD92\u4E2A\u547D\u4EE4\uFF0C\u8BF7\u7EE7\u7EED\u914D\u7F6E</p><p><strong>\u7ED9\u542F\u52A8\u811A\u672C\u6DFB\u52A0\u6743\u9650</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chmod</span> +x /etc/init.d/redis
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="\u8BBE\u7F6E\u5F00\u673A\u81EA\u542F\u52A8" tabindex="-1"><a class="header-anchor" href="#\u8BBE\u7F6E\u5F00\u673A\u81EA\u542F\u52A8" aria-hidden="true">#</a> \u8BBE\u7F6E\u5F00\u673A\u81EA\u542F\u52A8</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chkconfig</span> redis on
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5982\u679C\u8FD0\u884C\u62A5\u9519\uFF0C\u63D0\u793A <a href="/images/redis/8.png"><img src="`+c+'" alt="image"></a></p><p>\u662F\u56E0\u4E3A\u6CA1\u6709\u5728\u542F\u52A8\u811A\u672C\u91CC\u52A0\u5165redis\u542F\u52A8\u4F18\u5148\u7EA7\u4FE1\u606F\uFF0C\u53EF\u6DFB\u52A0\u5982\u4E0B</p><p><a href="/images/redis/9.png"><img src="'+t+`" alt="image"></a></p><p>\u7136\u540E \u8FD0\u884C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chkconfig</span> redis on
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><a href="/images/redis/10.png"><img src="`+o+'" alt="image"></a></p><p>\u5982\u679C\u53E6\u4E00\u53F0\u673A\u5668\u94FE\u63A5\u4E0D\u4E0A \u5982\u4E0B\uFF1A <a href="/images/redis/11.png"><img src="'+u+`" alt="image"></a> \uFF08\u6709\u53EF\u80FD\u662F\u9632\u706B\u5899\u8DDF\u914D\u7F6E\u95EE\u9898\uFF09 \u6253\u5F00 /etc/redis/redis.conf \u6CE8\u91CA\u6389 bind 127.0.0.1</p><p>\u5728redis3.2\u4E4B\u540E\uFF0Credis\u589E\u52A0\u4E86protected-mode\uFF0C\u5728\u8FD9\u4E2A\u6A21\u5F0F\u4E0B\uFF0C\u5373\u4F7F\u6CE8\u91CA\u6389\u4E86bind 127.0.0.1\uFF0C\u518D\u8BBF\u95EEredisd\u65F6\u5019\u8FD8\u662F\u62A5\u9519</p><p>\u4FEE\u6539</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>protected-mode no
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u7136\u540E</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vi</span>  /etc/sysconfig/iptables
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5728 icmp-host-prohibited \u4E0A\u9762\u52A0\u5165</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>-A INPUT -m state --state NEW -m tcp -p tcp --dport <span class="token number">6379</span> -j ACCEPT
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u7136\u540E \u91CD\u542F\u9632\u706B\u5899</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>services iptables  restart
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,65);function g(h,v){return b}var _=s(m,[["render",g],["__file","centos-redis-\u6E90\u7801\u5B89\u88C5\u914D\u7F6E.html.vue"]]);export{_ as default};
