<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.43">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/favicon.ico"><meta name="robots" content="all"><meta name="author" content="fengzijk"><meta name="keywords" content="中间件,微服务,服务治理,springcloud, java框架,calf-cloud,go学习路线,java spring,  java编程指南, vue开发,vue教程,java,java数据结构"><meta name="apple-mobile-web-app-capable" content="yes"><script src="https://hm.baidu.com/hm.js?7469927f8d68f752c147cd9df8cd19d3"></script><title>fengzijk的博客</title><meta name="description" content="fengzijk的博客">
    <link rel="modulepreload" href="/assets/app.c62b2955.js"><link rel="modulepreload" href="/assets/ICE入门到精通(一).html.84ecdd3d.js"><link rel="modulepreload" href="/assets/ICE入门到精通(一).html.0f6a85e8.js"><link rel="prefetch" href="/assets/aboat-me.html.7265baab.js"><link rel="prefetch" href="/assets/index.html.c038c7ec.js"><link rel="prefetch" href="/assets/centos-redis-源码安装配置.html.f1f14ff9.js"><link rel="prefetch" href="/assets/centos下yum安装卸载mysql笔记.html.33461b47.js"><link rel="prefetch" href="/assets/Centos安装JDK.html.6c0752bd.js"><link rel="prefetch" href="/assets/java8.html.77563c06.js"><link rel="prefetch" href="/assets/JAVA实现类似百度文库在线浏览.html.7fe84d87.js"><link rel="prefetch" href="/assets/Kotlin初探集成springMvc.html.7c9536b6.js"><link rel="prefetch" href="/assets/MongoDB地理位置索引的实现原理.html.d1e0bb0d.js"><link rel="prefetch" href="/assets/QQ实用技术.html.ba418346.js"><link rel="prefetch" href="/assets/index.html.1794e816.js"><link rel="prefetch" href="/assets/ROM修改之厨房简介及环境配置.html.1b1502c8.js"><link rel="prefetch" href="/assets/关于RPC的总结.html.037d7c7e.js"><link rel="prefetch" href="/assets/服务治理框架之DUBBO.html.f30b8060.js"><link rel="prefetch" href="/assets/自己刷机的一些感触和经验.html.af298b9a.js"><link rel="prefetch" href="/assets/让国产山寨手机死机黑屏之imy.html.ca41c909.js"><link rel="prefetch" href="/assets/谈谈服务治理与微服务.html.a28c8290.js"><link rel="prefetch" href="/assets/阿里云部署Web环境(LAMP).html.2fd4fe4c.js"><link rel="prefetch" href="/assets/404.html.93146c89.js"><link rel="prefetch" href="/assets/aboat-me.html.90600189.js"><link rel="prefetch" href="/assets/index.html.bf3f4e88.js"><link rel="prefetch" href="/assets/centos-redis-源码安装配置.html.aa4a0e51.js"><link rel="prefetch" href="/assets/centos下yum安装卸载mysql笔记.html.8f8a6042.js"><link rel="prefetch" href="/assets/Centos安装JDK.html.3e4cc809.js"><link rel="prefetch" href="/assets/java8.html.21e91c1a.js"><link rel="prefetch" href="/assets/JAVA实现类似百度文库在线浏览.html.6a33f2e3.js"><link rel="prefetch" href="/assets/Kotlin初探集成springMvc.html.00bb4e8d.js"><link rel="prefetch" href="/assets/MongoDB地理位置索引的实现原理.html.6848c28a.js"><link rel="prefetch" href="/assets/QQ实用技术.html.5045b312.js"><link rel="prefetch" href="/assets/index.html.bd8b4e91.js"><link rel="prefetch" href="/assets/ROM修改之厨房简介及环境配置.html.0fdebcce.js"><link rel="prefetch" href="/assets/关于RPC的总结.html.9ccb2018.js"><link rel="prefetch" href="/assets/服务治理框架之DUBBO.html.cca6060d.js"><link rel="prefetch" href="/assets/自己刷机的一些感触和经验.html.cb116888.js"><link rel="prefetch" href="/assets/让国产山寨手机死机黑屏之imy.html.a715fdd1.js"><link rel="prefetch" href="/assets/谈谈服务治理与微服务.html.cd6136ae.js"><link rel="prefetch" href="/assets/阿里云部署Web环境(LAMP).html.bf2ce772.js"><link rel="prefetch" href="/assets/404.html.11e2794b.js"><link rel="prefetch" href="/assets/404.8d3e3ac9.js"><link rel="prefetch" href="/assets/Layout.53613210.js">
    <link rel="stylesheet" href="/assets/style.78d99c6f.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">fengzijk的博客</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="JAVA"><span class="title">JAVA</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="JAVA"><span class="title">JAVA</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/" class="router-link-active" aria-label="java基础"><!--[--><!--]--> java基础 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="mybatis"><span class="title">mybatis</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="mybatis"><span class="title">mybatis</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/mybatis-plus/" class="" aria-label="mybatis-plus"><!--[--><!--]--> mybatis-plus <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tk-mapper/" class="" aria-label="tk-mapper"><!--[--><!--]--> tk-mapper <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="spring-cloud"><span class="title">spring-cloud</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="spring-cloud"><span class="title">spring-cloud</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/" class="router-link-active" aria-label="spring-cloud"><!--[--><!--]--> spring-cloud <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spring-cloud-alibaba/" class="" aria-label="spring-cloud-alibaba"><!--[--><!--]--> spring-cloud-alibaba <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="杂记"><span class="title">杂记</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="杂记"><span class="title">杂记</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>老博客</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/old-blog/" class="router-link-active" aria-label="胡侃"><!--[--><!--]--> 胡侃 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a href="/aboat-me.md" class="" aria-label="关于我"><!--[--><!--]--> 关于我 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://gitlab.com/foo/bar" rel="noopener noreferrer" target="_blank" aria-label="GitLab"><!--[--><!--]--> GitLab <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="JAVA"><span class="title">JAVA</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="JAVA"><span class="title">JAVA</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/" class="router-link-active" aria-label="java基础"><!--[--><!--]--> java基础 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="mybatis"><span class="title">mybatis</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="mybatis"><span class="title">mybatis</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/mybatis-plus/" class="" aria-label="mybatis-plus"><!--[--><!--]--> mybatis-plus <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tk-mapper/" class="" aria-label="tk-mapper"><!--[--><!--]--> tk-mapper <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="spring-cloud"><span class="title">spring-cloud</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="spring-cloud"><span class="title">spring-cloud</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/" class="router-link-active" aria-label="spring-cloud"><!--[--><!--]--> spring-cloud <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spring-cloud-alibaba/" class="" aria-label="spring-cloud-alibaba"><!--[--><!--]--> spring-cloud-alibaba <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="杂记"><span class="title">杂记</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="杂记"><span class="title">杂记</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>老博客</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/old-blog/" class="router-link-active" aria-label="胡侃"><!--[--><!--]--> 胡侃 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a href="/aboat-me.md" class="" aria-label="关于我"><!--[--><!--]--> 关于我 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://gitlab.com/foo/bar" rel="noopener noreferrer" target="_blank" aria-label="GitLab"><!--[--><!--]--> GitLab <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading"> <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/old-blog/ICE%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A(%E4%B8%80).html#ice-入门到精通-一" class="router-link-active router-link-exact-active sidebar-item" aria-label="ICE 入门到精通（一）"><!--[--><!--]--> ICE 入门到精通（一） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/old-blog/ICE%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A(%E4%B8%80).html#什么是ice" class="router-link-active router-link-exact-active sidebar-item" aria-label="什么是ICE"><!--[--><!--]--> 什么是ICE <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/old-blog/ICE%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A(%E4%B8%80).html#ice的优点" class="router-link-active router-link-exact-active sidebar-item" aria-label="ICE的优点"><!--[--><!--]--> ICE的优点 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/old-blog/ICE%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A(%E4%B8%80).html#与webservice的对比" class="router-link-active router-link-exact-active sidebar-item" aria-label="与WebService的对比"><!--[--><!--]--> 与WebService的对比 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/old-blog/ICE%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A(%E4%B8%80).html#一些基础的概念和模型" class="router-link-active router-link-exact-active sidebar-item" aria-label="一些基础的概念和模型"><!--[--><!--]--> 一些基础的概念和模型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/old-blog/ICE%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A(%E4%B8%80).html#ice调用模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="ICE调用模式"><!--[--><!--]--> ICE调用模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/old-blog/ICE%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A(%E4%B8%80).html#ice的版本控制-facet" class="router-link-active router-link-exact-active sidebar-item" aria-label="ICE的版本控制（Facet）"><!--[--><!--]--> ICE的版本控制（Facet） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/old-blog/ICE%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A(%E4%B8%80).html#持久化-feeze" class="router-link-active router-link-exact-active sidebar-item" aria-label="持久化 （Feeze）"><!--[--><!--]--> 持久化 （Feeze） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/old-blog/ICE%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A(%E4%B8%80).html#服务装箱管理-icebox" class="router-link-active router-link-exact-active sidebar-item" aria-label="服务装箱管理 （ICEBox）"><!--[--><!--]--> 服务装箱管理 （ICEBox） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/old-blog/ICE%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A(%E4%B8%80).html#文件分发-icepatch2" class="router-link-active router-link-exact-active sidebar-item" aria-label="文件分发（ICEPatch2）"><!--[--><!--]--> 文件分发（ICEPatch2） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/old-blog/ICE%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A(%E4%B8%80).html#发布-订阅-服务-icestorm" class="router-link-active router-link-exact-active sidebar-item" aria-label="发布/订阅 服务（ICEStorm)"><!--[--><!--]--> 发布/订阅 服务（ICEStorm) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/old-blog/ICE%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A(%E4%B8%80).html#网络拓扑负载解决方案-icegrid-终极武器" class="router-link-active router-link-exact-active sidebar-item" aria-label="网络拓扑负载解决方案（ICEGrid）终极武器"><!--[--><!--]--> 网络拓扑负载解决方案（ICEGrid）终极武器 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h2 id="ice-入门到精通-一" tabindex="-1"><a class="header-anchor" href="#ice-入门到精通-一" aria-hidden="true">#</a> ICE 入门到精通（一）</h2><p>发表于 2015-08-21</p><p>关于ICE的介绍，网上的资料有很多，但是从应用的角度上去使用的并不多，在技术革新的今天我们可能更多的是去关注应用领域而非研究领域，因此根据 我个人的使用经验，想对ICE技术做一些总结和介绍。</p><h2 id="什么是ice" tabindex="-1"><a class="header-anchor" href="#什么是ice" aria-hidden="true">#</a> 什么是ICE</h2><p>ICE的全称是 <strong>Internet Communications Engine网络(互联网)通讯引擎</strong> 它是由Zeroc公司开发的一套开源中间件系统，<strong>与DCOM</strong>,<strong>CORBA</strong>,<strong>WEB SERVICE</strong> <strong>Dcom类似</strong>，<strong>支持RPC</strong>协议，但是在效率上却高于前面所述几种技术方案，是一种适用于各种环境的面向对象的中间件平台：客户和服务器可以用不同的编程语言来编写， 可以运行在不同的操作系统和系统架构上，并且可以使用多种网络技术经行通信（<strong>例如TCP</strong>、<strong>UDP</strong>、<strong>SSL等</strong>），这给我们的应用和部署带来很大的便捷性。</p><h2 id="ice的优点" tabindex="-1"><a class="header-anchor" href="#ice的优点" aria-hidden="true">#</a> ICE的优点</h2><ul><li><p>跨平台，支持多种语言</p></li><li><p>面向对象编程</p></li><li><p>为分布式应用方面提供了一整套 强大的特性和功能支持（例如负载平衡、软件分发、数据同步等）。</p></li><li><p>在网络带宽、内存使用和CPU开销方面已经内置了高效的实现。</p></li><li><p>内置了安全特征的实现，可跨越不安全的网络（广域网）使用。</p></li><li><p>降低了复杂性，易于学习和使用。</p></li><li><h2 id="与webservice的对比" tabindex="-1"><a class="header-anchor" href="#与webservice的对比" aria-hidden="true">#</a> 与WebService的对比</h2><p>优点：</p></li><li><p>1、走TCP或者UDP，效率上和webservice不是一个等级的。</p></li><li><p>2、安全性方面比webservice要强</p></li><li><p>3、.ice文件支持对exception的定义</p></li></ul><p>缺点：</p><ul><li>1、如果提供一个服务在公网上 ， 现在提供wsdl毕竟还是主流，貌似没有人提供.ice文件出去。</li><li>2、xml文件个人觉得比.ice文件的可读性更强</li></ul><h2 id="一些基础的概念和模型" tabindex="-1"><a class="header-anchor" href="#一些基础的概念和模型" aria-hidden="true">#</a> 一些基础的概念和模型</h2><p>首先我们来看看ICE的基础调用模型（如下图所示） <a href="/images/ice/ice01.png"><img src="/images/ice/ice01.png" alt="image"></a><a href="/images/ice/ice02.png"><img src="/images/ice/ice02.png" alt="image"></a></p><p><strong>Client</strong>（客 户端）：估计这个大家都非常清楚，通俗的讲就是一个请求的发起方。</p><p><strong>Proxy</strong>（代理）：代理实际上就是远程服务驻在本地的一个代表，创建 它时首先会和远程服务经行握手和状态确认等操作，Client所有的操作都是从过Proxy来办理的。代理又分为直接代理（已经知道服务端的位置及其他信 息）和间接代理（不知道服务器在哪里，由Registry注册器告诉它地址等信息）。</p><p><strong>Adapter</strong>（适配器）：是配置相当于服务单位 （Servant）的管理者，它管理着每个请求该分配给哪一个服务单位。</p><p><strong>Servant</strong>（服务单元）：它是服务的最小单位，一般是具体到 某个接口的实现。</p><p>刚才我们提到了接口的实现，但是这个接口是谁定义的，这个时候我们不免要提到<strong>Slic</strong>e（<strong>Specification</strong> <strong>Language</strong> <strong>for Ice</strong>），也就是ICE所使用的“语言”，正是有了这个“中间语言”，我们才可以做到支持各种编程语言，因为你所使用的语言只要跟<strong>Slice</strong>打交道就可以了,关于Slice我在后面可能会详细的来讲述。</p><h2 id="ice调用模式" tabindex="-1"><a class="header-anchor" href="#ice调用模式" aria-hidden="true">#</a> ICE调用模式</h2><p><strong>ICE采用的网络协议有TCP、UDP以及SSL三 种，不同于WebService，ICE在调用模式上有好几种选择方案，并且每种方案正对不同的网络协议的特性做了相应的选择</strong>。</p><ul><li><strong>Oneway(单向调用)</strong>：客户端只需将调用注册到本地传输缓冲区（<strong>Local Transport Buffers</strong>）后就立即返回，并不对调用结果负责。</li><li><strong>Twoway（双 向调用</strong>）：最通用的模式，同步方法调用模式，只能用TCP或SSL协议。</li><li><strong>Datagram（数据报）</strong>：类似于Oneway调用，不同的是 Datagram调用只能采用UDP协议而且只能调用无返回值和无输出参数的方法。</li><li><strong>BatchOneway（批量单向调用</strong>）：先将调用存 在调用缓冲区里面，到达一定限额后自动批量发送所有请求（也可手动刷除缓冲区）。</li><li><strong>BatchDatagram（批量数据报</strong>）：与上类似。</li></ul><p>不同的调用模式其实对应着不动的业务，对于大部分的有返回值的或需要实时响应的方法，我们可能都采用Twoway方式调用，对于一些无需返回值或 者不依赖返回值的业务，我们可以用Oneway或者BatchOneway方式，例如消息通知；剩下的Datagram和<strong>BatchDatagram</strong>方式 一般用在无返回值且不做可靠性检查的业务上，例如日志。</p><h2 id="ice的版本控制-facet" tabindex="-1"><a class="header-anchor" href="#ice的版本控制-facet" aria-hidden="true">#</a> ICE的版本控制（Facet）</h2><p>ICE内部集成非常好的版本 控制功能（Facet），在每一个服务单元（Servant）其实都有一个Facet与之并存，如果你没有认为指定，那么这个默认Facet的值就为空 (String.Empty)。在我们业务的实际应用过程中，经常要碰到服务升级的情况，但是升级服务就意味着增大了原有业务调用的稳定性，从而增大了风 险，这个Facet就刚好解决我们遇到的这个难题，我们每次升级都是“新增服务”，而非改变原有业务，新来的业务调用新版本服务，原有业务调用原有版本服 务。当检测一些很“老”的服务确认无人调用的时候我们就可以关掉了。</p><p>Facet的实现其实也非常简单，服务端（Adapter）在挂载服 务（Servant）的时候就制订了相应版本号。这时候客户端要调用此方法就必须提供正确的版本号（而非默认版本号）。</p><h2 id="持久化-feeze" tabindex="-1"><a class="header-anchor" href="#持久化-feeze" aria-hidden="true">#</a> 持久化 （Feeze）</h2><p>一款对Servant服务进行管理和持久化的工具，Adapter可以注册多个Servant在内存中，当 Adapter接收到一个新的请求（request）后便去管理列表里面查找是否存在已有的Servant，如果存在则返回该Servant，如果不存在 则实例化一个新的Servant实例。当不停的实现新Servant之后势必会造成内存的激增已经CPU资源的浪费，而且一些很少被调用的Servant 也一直驻存在服务中。为此我们设定服务的Servant的上限，到达该上限后自动将“最少调用”的Servant状态保存在数据库（或文件等持久化设备） 中，然后关闭这些Servant，一旦有新的请求此Servant时再次获取原状态来激活Servant……</p><h2 id="服务装箱管理-icebox" tabindex="-1"><a class="header-anchor" href="#服务装箱管理-icebox" aria-hidden="true">#</a> 服务装箱管理 （ICEBox）</h2><p>从名字就可以看出来，它是一款装箱托管方案，类似于IIS，可以托管多个应用服务，并且每个服务是支持插拔式管理的， 相互之间不受影响，对ICE的应用做了接口设计，每个服务只是实现了 Ice.Services接口就可以了，这样一样让我们可以更专注的关于于我们的业务而非运行的平台。它为我们提供了统一的托管平台，是一个很不错的工 具。</p><h2 id="文件分发-icepatch2" tabindex="-1"><a class="header-anchor" href="#文件分发-icepatch2" aria-hidden="true">#</a> 文件分发（ICEPatch2）</h2><p>ICE最重要的功能就是多节点部署，以达到负载平衡或者容灾的目的，大多数时候 每个节点（一般而言是一台服务器）配置的应用程序都是一样的，当每次有更新或者新增应用的时候，便需要手工同步每个节点的文件，这样的手工操作显得十分繁 琐而且完全依赖操作人的行为。而ICEPatch2解决了这一难题，只要有一台以为的ICEPatch2服务在运行当中，就可以通过分发的方式同步其他各 个节点的文件，也就是说运维人员只需要维护一台机器的应用程序文件就可以了。</p><h2 id="发布-订阅-服务-icestorm" tabindex="-1"><a class="header-anchor" href="#发布-订阅-服务-icestorm" aria-hidden="true">#</a> 发布/订阅 服务（ICEStorm)</h2><h2 id="网络拓扑负载解决方案-icegrid-终极武器" tabindex="-1"><a class="header-anchor" href="#网络拓扑负载解决方案-icegrid-终极武器" aria-hidden="true">#</a> 网络拓扑负载解决方案（ICEGrid）终极武器</h2><p>icegrid实际上是一系列组件的组合，形成了 一套强大的 文件分发、负载均衡、快捷部署等解决方案。这也是ICE功能中最为强大的一套，至于细节，有待后文慢慢道来。</p><p><strong>学习ICE</strong>，我们要从ICE的“语言”学起，<strong>简称SLICE</strong>（Simple Language Of ICE）。SLICE有自己独立的语法体系和结构，我们必须必须熟悉和遵守这些语法体系才能到达我们想要的效果。</p><p><strong>这些就是关于ICE的简单介绍 下一篇我会将iCE 中间语言的语法已经自己写一个简单的demo</strong></p><p><a href="/uploads/wechat-qcode.jpg"></a></p><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.c62b2955.js" defer></script>
  </body>
</html>
